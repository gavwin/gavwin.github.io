<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Terminal Mystery</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta name="author" content="Gavin Wainwright">
    <meta name="description" content="description here">
    <meta name="keywords" content="keywords,here">
    <link rel="stylesheet" href="style.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
</head>

<body>

    <div id="screen">Type 'help' for a list of commands.
        <div id="output"></div>
        <br>gavin@localhost:~$
        <input class="wider"></input>
    </div>

    <script>
 var cmds = [
     "",
     "help",
     "clear",
     "concept",
     "inbox",
     "show",
     "show need your help",
     "show good job",
     "show we've got this",
     "connect",
     "connect root m4sk",
 ];

 var $out = $("#output");
 $("#screen input").focus();
 $("#screen input").on("keydown", function(event) {
             if (event.which === 13) {
                 var $this = $(this),
                     valArgs = $this.val();
                 $this.focus().val("");
                 var val = valArs.toLowerCase();
                 function cmdUse() {
                     $out.append(`gavin@localhost:~$ ${val}<br>`);
                 }
                 if (val === "") {
                     $out.append("gavin@localhost:~$<br>");
                 } else
                 if (val === "help") {
                     cmdUse();
                     $out.append("Here's a list of commands:<br>help - Sends a list of commands<br>concept - Explains how to play this game<br>inbox - Shows your inbox<br>show [file|message] - Shows the contents of a file or message<br>connect [host] [password] - Connects to the specified host.<br>clear - Clears the terminal<br>");
                 } else
                 if (val === "inbox") {
                     cmdUse();
                     $out.append("Your Inbox:<br>↳ need your help<br>↳ good job<br>↳ we've got this<br>");
                 } else
                 if (val === "clear") {
                     $out.empty();
                 } else
                 if (val.startsWith("show")) {
                     if (!cmds.includes(val)) {
                         cmdUse();
                         $out.append(`Could not find a file / message with the name of '${val.substring(5)}'.<br>`);
                     }
                     if (val === "show need your help") {
                         cmdUse();
                         $out.append("Viewing the content of need your help:<br>Dear Gavin,<br>    For the past month or so I've been keeping an eye on a group of cyber<br>terrorists who call themselves, M.A.S.K.  (Mobile Armored Strike Kommand).<br>Your hacking skills are needed to take down this skulking espionage,<br>so get as much information on the group as you can.<br>Best of Luck,<br>Mike<br>P.S. You can gain access to one of their computers by <br>connecting with the host: root<br>and the password: m4sk<br>");
                     }
                     if (val === "show we've got this") {
                         cmdUse();
                         $out.append("Viewing the content of we've got this:<br>Dear Gavin,<br>Amazing work out there! Or should I say, on your computer.<br>Anyways, we now have enough information to stop M.A.S.K. and their attack on the Peruvian Government.<br>Crazy what these terrorist groups are trying to do these days.<br>And A.C.R.O.S.T.I.C., I wonder what they have to do with this whole thing... I'll put them on the watch list.<br>Again, amazing job with your information gathering and hacking skills, you've done your country well.<br>Yours respectfully,<br>Mike<br>");
                     } 
                     if (val === "show good job") {
                         cmdUse();
                         $out.append("Viewing the content of good job:<br>Dear Gavin,<br>    Great job getting into one of M.A.S.K.'s computers. We now know what they plan<br>and with some more evidence we can completley trump their mission.<br>You can try rooting around on their computer more, try finding any other files that could give us more information.<br>Best of luck,<br>Mike<br>");
                     }
                     else if (val === "show") {
                         cmdUse();
                         $out.append("Specify a file / message to show.<br>");
                     }
                 } else
                     if(val.startsWith("connect")) {
                       if(val === "connect root m4sk") {
                         cmdUse();
                         $out.append("Connecting");
                         setTimeout(function() { $out.append("."); }, 1000);
                         setTimeout(function() { $out.append("."); }, 2000);
                         setTimeout(function() { $out.append("."); }, 3000);
                         setTimeout(function() { $out.append("."); }, 4000);
                         setTimeout(function() { $out.append("."); }, 5000);
                         setTimeout(function() { window.location.href = "https://gavwin.github.io/Terminal%Mystery/m4sk"; }, 5100);
                       } else if(val === "connect") {
                         $out.append("gavin@localhost:~$ connect<br>");
                         $out.append("Specify a host and password to connect to.<br>");
                       } else if(!cmds.includes(val)) {
                         $out.append(`gavin@localhost:~$ ${val.substring(8)}<br>`);
                         $out.append(`Failed to connect. Incorrect host and/or password.<br>`);
                       }
                     } else {
                       cmdUse();
                       $out.append("Command not recognized.<br>");
                     }
                     $this.val("");
                 }
             });
    </script>

</body>

</html>
